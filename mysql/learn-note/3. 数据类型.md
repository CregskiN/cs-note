# 3. 数据类型

[TOC]



## 3.1 数值类型

### 3.1.1 整型

|           类型           | 占用的存储空间（单位：字节） | 无符号数取值范围 | 有符号数取值范围 |      含义      |
| :----------------------: | :--------------------------: | :--------------: | :--------------: | :------------: |
|        `TINYINT`         |              1               |     0 ~ 2⁸-1     |    -2⁷ ~ 2⁷-1    |  非常小的整数  |
|        `SMALLINT`        |              2               |    0 ~ 2¹⁶-1     |   -2¹⁵ ~ 2¹⁵-1   |    小的整数    |
|       `MEDIUMINT`        |              3               |    0 ~ 2²⁴-1     |   -2²³ ~ 2²³-1   | 中等大小的整数 |
| `INT`（别名：`INTEGER`） |              4               |    0 ~ 2³²-1     |   -2³¹ ~ 2³¹-1   |   标准的整数   |
|         `BIGINT`         |              8               |    0 ~ 2⁶⁴-1     |   -2⁶³ ~ 2⁶³-1   |     大整数     |



### 3.1.2 浮点型

|   类型   | 占用的存储空间（单位：字节） |     绝对值最小非0值      |     绝对值最大非0值      |     含义     |
| :------: | :--------------------------: | :----------------------: | :----------------------: | :----------: |
| `FLOAT`  |              4               |     ±1.175494351E-38     |     ±3.402823466E+38     | 单精度浮点数 |
| `DOUBLE` |              8               | ±2.2250738585072014E-308 | ±1.7976931348623157E+308 | 双精度浮点数 |

<img src="https://www.qiniu.cregskin.com/image-20201020152649308.png" alt="image-20201020152649308" style="zoom: 50%;" />

>  浮点数表示小数位，往往是不精确的



#### 设置最大位数和最小位数

```sql
FLOAT(M, D)
DOUBLE(M, D)
```

+ M 表示该小数最多需要的十进制有效数字个数

  M 取值范围 1~255

  如 `-2.3` 有效数字个数是 `2`，`0.9` 有效数字个数是 `1`

+ D 该小数的小数点后的十进制数字个数

  D 取值范围 0~30 && D < M

> `M`和`D`都是可选的，如果我们省略了它们，那它们的值按照机器支持的最大值来存储。

|     类型      |     取值范围     |
| :-----------: | :--------------: |
| `FLOAT(4, 1)` |   -999.9~999.9   |
| `FLOAT(5, 1)` |  -9999.9~9999.9  |
| `FLOAT(6, 1)` | -99999.9~99999.9 |
| `FLOAT(4, 0)` |    -9999~9999    |
| `FLOAT(4, 1)` |   -999.9~999.9   |
| `FLOAT(4, 2)` |   -99.99~99.99   |



### 3.1.3 定点数类型

|      类型       | 占用的存储空间（单位：字节） |  取值范围  |
| :-------------: | :--------------------------: | :--------: |
| `DECIMAL(M, D)` |          取决于M和D          | 取决于M和D |

+ M 默认为 10
+ D 默认为 0

9 个十进制位为一组

| 组中包含的十进制位数 | 占用存储空间大小（单位：字节） |
| :------------------: | :----------------------------: |
|         1或2         |               1                |
|         3或4         |               2                |
|         5或6         |               3                |
|       7或8或9        |               4                |



### 3.1.4 无符号数值类型的表示

```sql
数值类型 UNSIGNED
如
INT UNSIGNED 无符号整型
FLOAT UNSIGNED 无符号浮点型
DECIMAL UNSIGNED 无符号定点数
```

> 小贴士： 
>
> 在使用的存储空间大小相同的情况下，无符号整数可以表示的正整数范围比有符号整数能表示的正整数范围大一倍。不过受浮点数和定点数具体的存储格式影响，无符号浮点数和定点数并不能提升正数的表示范围





## 3.2 日期和时间类型

|    类型     | 存储空间要求 |                    取值范围                    |     含义     |
| :---------: | :----------: | :--------------------------------------------: | :----------: |
|   `YEAR`    |    1字节     |                   1901~2155                    |    年份值    |
|   `DATE`    |    3字节     |          '1000-01-01' ~ '9999-12-31'           |    日期值    |
|   `TIME`    |    3字节     |           '-838:59:59' ~ '838:59:59'           |    时间值    |
| `DATETIME`  |    8字节     | '1000-01-01 00:00:00' ～ '9999-12-31 23:59:59' | 日期加时间值 |
| `TIMESTAMP` |    4字节     | '1970-01-01 00:00:01' ～ '2038-01-19 03:14:07' |    时间戳    |

在`MySQL5.6.4`这个版本之后，`TIME`、`DATETIME`、`TIMESTAMP`这几种类型添加了对毫秒、微秒的支持。由于毫秒、微秒都不到1秒，所以也被称为`小数秒`，`MySQL`最多支持6位小数秒的精度，各个位代表的意思如下：

<img src="https://www.qiniu.cregskin.com/image-20201020160312228.png" alt="image-20201020160312228" style="zoom: 33%;" />



```sql
类型(小数秒位数)
```

+ 类型 `TIME`、`DATETIME`、`TIMESTAMP`
+ 小数秒位数 可选 0 1 2 3 4 5 6

```sql
DATETIME(0) 精确到秒
DATETIME(3) 精确到毫秒
DATETIME(5) 精确到10ms
```

存储空间如下：

| 保留的小数秒位数 | 额外需要的存储空间要 |
| :--------------: | :------------------: |
|        0         |        0字节         |
|       1或2       |        1字节         |
|       3或4       |        2字节         |
|       5或6       |        3字节         |

即

+ DATETIME(3) 占用空间是在 8byte + 2byte
+ DATETIME(5) = 8byte + 2byte

