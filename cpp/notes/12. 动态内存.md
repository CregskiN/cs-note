# 1. 智能指针

> #include \<memory>

**shared_ptr** ：允许多个指针指向一个对象。**unique_ptr** ：独占对象

shared_ptr 模版类

<img src="https://www.qiniu.cregskin.com/202202121646079.png" alt="image-20220212164643058" style="zoom:50%;" />



# 2. 直接管理内存

new、delete 运算符，直接管理内存

+ **vector\<int> *p = new vector\<int>{1, 2, 3, 4, 5}**

+ **auto *p = new auto(obj)**

  *p 为一个指针，指向对象类型为 obj 同类，值用 obj 初始化

+ **const string *p = new const string**

  const 动态分配隐式初始化，空字符串（因为 string 有默认构造函数）

+ **int *p = new (nothrow) int**

  如果堆空间不足，不会抛出 std::bad_alloc 错误，而是返回 nullptr

> std::bad_alloc、nothrow from #include \<new>



<img src="https://www.qiniu.cregskin.com/202202141910041.png" alt="image-20220214191013947" style="zoom:50%;" />
